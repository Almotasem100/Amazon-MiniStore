<header class="app-header">
  <div class="header-content">
    <span class="logo"><span>amazon</span> <small>mini-store</small></span>

    <!-- Only show navigation when not on auth pages -->
    <nav *ngIf="!isAuthPage">
      <!-- Cart button -->
      <button *ngIf="!isCartPage" type="button" class="cart-link" (click)="goToCart()" aria-label="Go to cart">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" class="cart-icon">
          <circle cx="10" cy="21" r="1.5" fill="#ffffff"></circle>
          <circle cx="17" cy="21" r="1.5" fill="#ffffff"></circle>
          <path
            d="M3 4h2l2.6 10.39a2 2 0 0 0 2 1.61h7.72a2 2 0 0 0 2-1.61L21 7H6"
            stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          ></path>
        </svg>
        <span class="cart-text">Cart</span>
        <span class="cart-badge" *ngIf="(cartCount$ | async) as n" [hidden]="n === 0">{{ n }}</span>
      </button>

      <!-- Home button when on cart -->
      <button *ngIf="isCartPage" type="button" class="cart-link" (click)="goHome()" aria-label="Go to products">
        üè† Home
      </button>

      <!-- Logout -->
      <button type="button" class="logout-link" (click)="logout()">Logout</button>
    </nav>
  </div>
  <div class="header-curve"></div>
</header>

<main class="main-content">
  <section class="products-section">
    <h2 class="products-title">{{ pageTitle }}</h2>
    <p class="products-punch">{{ pageSubtitle }}</p>
    <router-outlet></router-outlet>
  </section>

  <div class="toast" *ngIf="toast.message() as msg">{{ msg }}</div>
</main>

<footer class="app-footer">
  &copy; {{ currentYear }} Amazon Mini-Store. Built with <span class="ng-logo">Angular</span> &amp; Spring Boot.
</footer>
